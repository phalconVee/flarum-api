9999999999s:4078:"System.register("flarum/suspend/components/SuspendUserModal",["flarum/components/Modal","flarum/components/Button"],function(g,l){var d,e,f;return{setters:[function(e){d=e["default"]},function(d){e=d["default"]}],execute:function(){f=function(d){function c(){babelHelpers.classCallCheck(this,c);return babelHelpers.possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}babelHelpers.inherits(c,d);babelHelpers.createClass(c,[{key:"init",value:function(){babelHelpers.get(c.prototype.__proto__||
Object.getPrototypeOf(c.prototype),"init",this).call(this);var a=this.props.user.suspendUntil(),b=null;new Date>a&&(a=null);a&&(b=9999===a.getFullYear()?"indefinitely":"limited");this.status=m.prop(b);this.daysRemaining=m.prop("limited"===b&&-moment().diff(a,"days")+1)}},{key:"className",value:function(){return"SuspendUserModal Modal--small"}},{key:"title",value:function(){return app.translator.trans("flarum-suspend.forum.suspend_user.title",{user:this.props.user})}},{key:"content",value:function(){var a=
this;return m("div",{className:"Modal-body"},m("div",{className:"Form"},m("div",{className:"Form-group"},m("label",null,app.translator.trans("flarum-suspend.forum.suspend_user.status_heading")),m("div",null,m("label",{className:"checkbox"},m("input",{type:"radio",name:"status",checked:!this.status(),onclick:m.withAttr("value",this.status)}),app.translator.trans("flarum-suspend.forum.suspend_user.not_suspended_label")),m("label",{className:"checkbox"},m("input",{type:"radio",name:"status",checked:"indefinitely"===
this.status(),value:"indefinitely",onclick:m.withAttr("value",this.status)}),app.translator.trans("flarum-suspend.forum.suspend_user.indefinitely_label")),m("label",{className:"checkbox SuspendUserModal-days"},m("input",{type:"radio",name:"status",checked:"limited"===this.status(),value:"limited",onclick:function(b){a.status(b.target.value);m.redraw(!0);a.$(".SuspendUserModal-days-input input").select();m.redraw.strategy("none")}}),app.translator.trans("flarum-suspend.forum.suspend_user.limited_time_label"),
"limited"===this.status()?m("div",{className:"SuspendUserModal-days-input"},m("input",{type:"number",min:"0",value:this.daysRemaining(),oninput:m.withAttr("value",this.daysRemaining),className:"FormControl"}),app.translator.trans("flarum-suspend.forum.suspend_user.limited_time_days_text")):""))),m("div",{className:"Form-group"},m(e,{className:"Button Button--primary",loading:this.loading,type:"submit"},app.translator.trans("flarum-suspend.forum.suspend_user.submit_button")))))}},{key:"onsubmit",value:function(a){var b=
this;a.preventDefault();this.loading=!0;a=null;switch(this.status()){case "indefinitely":a=new Date("2038-01-01");break;case "limited":a=moment().add(this.daysRemaining(),"days").toDate()}this.props.user.save({suspendUntil:a}).then(function(){return b.hide()},this.loaded.bind(this))}}]);return c}(d);g("default",f)}}});"use strict";
System.register("flarum/suspend/main","flarum/extend flarum/app flarum/utils/UserControls flarum/components/Button flarum/components/Badge flarum/Model flarum/models/User flarum/suspend/components/SuspendUserModal".split(" "),function(g,l){var d,e,f,h,c,a,b,k;return{setters:[function(a){d=a.extend},function(a){e=a["default"]},function(a){f=a["default"]},function(a){h=a["default"]},function(a){c=a["default"]},function(b){a=b["default"]},function(a){b=a["default"]},function(a){k=a["default"]}],execute:function(){e.initializers.add("flarum-suspend",
function(){b.prototype.canSuspend=a.attribute("canSuspend");b.prototype.suspendUntil=a.attribute("suspendUntil",a.transformDate);d(f,"moderationControls",function(a,b){b.canSuspend()&&a.add("suspend",h.component({children:e.translator.trans("flarum-suspend.forum.user_controls.suspend_button"),icon:"ban",onclick:function(){return e.modal.show(new k({user:b}))}}))});d(b.prototype,"badges",function(a){var b=this.suspendUntil();new Date<b&&a.add("suspended",c.component({icon:"ban",type:"suspended",label:e.translator.trans("flarum-suspend.forum.user_badge.suspended_tooltip")}))})})}}});";